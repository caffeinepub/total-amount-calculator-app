{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix blank white-screen crash by wrapping app in BranchAuthProvider",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Ensure all components that call useBranchAuth() are rendered within BranchAuthProvider to prevent runtime crash and blank screen.",
      "acceptanceCriteria": [
        "Loading the app no longer results in a blank white page.",
        "When the user is not authenticated with either Internet Identity or branch credentials, the AuthGatePage renders successfully.",
        "BranchSessionControl and any other components using useBranchAuth() render without throwing the error \"useBranchAuth must be used within BranchAuthProvider\".",
        "Branch login (via BranchLoginForm) can authenticate and unlock the main app view."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Import BranchAuthProvider from frontend/src/hooks/useBranchAuth.tsx and wrap AppContent (and thus AuthGatePage, BranchLoginForm, BranchSessionControl, and any other useBranchAuth consumers) inside BranchAuthProvider at the App component level so AppContent's useBranchAuth() call is always within the provider, preventing the blank-screen crash."
        }
      ]
    }
  ]
}